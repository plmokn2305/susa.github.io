# 議會監督網站（單一後台整合版）

這一包包含：
- `index.html`：前端單檔，支援同**一份 Google 試算表**輸出的兩個 CSV：
  - `?sheet=<匯出 CSV>`（統計8欄）
  - `?proposals=<提案清單 CSV>`
- `data/`：離線備援（`councilors.csv` / `councilors.json` / `proposals.csv`）。
- `sheets/backend_master.xlsx`：**單一後台**範本（分頁：議員名冊、出席率、質詢率、連署次數、提案次數、提案清單、匯出）。
- `sheets/匯出工作表_公式.txt`：Google 試算表用的 ARRAYFORMULA 公式，一貼就自動合併出 8 欄。

## 快速部署

1. **上傳前端**：把 `index.html` 放到你的 GitHub Pages repo 根目錄並啟用 Pages。
2. **建立單一後台**：把 `sheets/backend_master.xlsx` 上傳到 Google 雲端硬碟，開啟成 Google 試算表。
3. 在該試算表中：
   - 到「匯出」分頁 → A1:H1 放標題（已放好則跳過）。
   - 將 `sheets/匯出工作表_公式.txt` 的公式依欄貼到 `匯出` 分頁的 A2~H2（會自動向下產生）。
   - 將 E、F 欄設定為「百分比」格式。
   - 在「提案清單」分頁維護提案：欄位 `議員, 日期, 標題, 類型, 連署名單`。
4. **發佈兩個 CSV**（同一份試算表、不同分頁）：
   - 檔案 → 發佈到網路 → 選「匯出」分頁 → 逗號分隔值 (CSV) → 發佈（得到 URL1）。
   - 檔案 → 發佈到網路 → 選「提案清單」分頁 → CSV → 發佈（得到 URL2）。
5. **連線你的網站**：
   - 造訪 `https://<你的帳號>.github.io/<你的repo>/?sheet=<URL1>&proposals=<URL2>`
   - 頁面會顯示「即時資料（輪詢中）」並每 60 秒更新。

> 備註：若不使用 `?sheet` / `?proposals`，前端會讀 `data/` 內的 CSV/JSON。

## 後台資料說明

- **議員名冊**：姓名、照片URL、系級/單位、職務（職稱）。
- **出席率**：首列包含每位議員的**出席數**；最後一欄**總開會次數**。
- **質詢率**：首列包含每位議員的**質詢次數**；最後一欄**總開會次數**。
- **連署次數 / 提案次數**：首列為各議員的總次數。
- **匯出**：用提供的公式自動整併成前端所需 8 欄。
- **提案清單**：一人多筆內容，支援以 `、` `；` `,` 分隔連署名單。

---

© 2025 議會監督網站
